<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>03.scrollTo()-返回顶部</title>
  <style>
      .box{
        position:fixed;
        right:10px;
        bottom: 10px;
        height:30px;
        width: 50px; 
        text-align:center;
        padding-top:20px; 
        background-color: lightblue;
        border-radius: 20%;
        overflow: hidden;
      }
      .box:hover:before{
        top:50%
      }
      .box:hover .box-in{
        visibility: hidden;
      }
      .box:before{
        position: absolute;
        top: -50%;
        left: 50%;
        transform: translate(-50%,-50%);
        content:'回到顶部';
        width: 40px;
        color:peru;
        font-weight:bold;
      } 
      .box-in{
        visibility: visible;
        display:inline-block;
        height:20px;
        width: 20px;
        border: 3px solid black;
        border-color: white transparent transparent white;
        transform:rotate(45deg);
      }
  </style>
    </head>
     <body style="height:2000px;">
        <p>回到顶部</p>
        <div id="box" class="box">
          <div class="box-in"></div>
        </div> 
      </body>
<script>
var timer = null;
box.onclick = function(){
cancelAnimationFrame(timer);
timer = requestAnimationFrame(function fn(){
var oTop = document.body.scrollTop || document.documentElement.scrollTop;
if(oTop > 0){
scrollTo(0,oTop-50);
timer = requestAnimationFrame(fn);
}else{
cancelAnimationFrame(timer);
} 
});
}
</script>
   
<!-- scrollTo()实现回到顶部的基本功能 -->
<!-- <body style="height:2000px">
  <p>这里是顶部</p>
  <button id="test" style="position:fixed;right:0;bottom:0">回到顶部</button>
</body>
<script>
  test.onclick = function(){
    scrollTo(0,0)
  }
</script> -->
</html>